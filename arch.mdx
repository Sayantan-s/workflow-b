# Requirements

### Functional Requirements

- **Nodes** should be of 3 types. <br />

  1.  Trigger:
      - Manual
        - Shortcut: `kbd -> cmd/ctrl + N + D`
        - Inputs: <br />
          (No input)
          \*\* Runs on button click
      - Webhook
        - Shortcut: `kbd -> cmd/ctrl + N + F`
        - Inputs: <br />
          1. Webhook URL (validation for webhook uri) -> input
          2. Method -> select
          3. Auth Settings (None, Basic Auth, API-KEY AUTH)
  2.  Actions: HTTP, Email/SMS

      - HTTP

        - Shortcut: `kbd -> cmd/ctrl + N + G`
        - Inputs: <br />

          1. URL (validation for webhook uri) -> input
             Input field (supporting dynamic variables via {{variable_name}})
          2. Method -> select

          3. Auth Settings (None, Basic Auth, API-KEY AUTH)
          4. Body Type: Toggle for JSON or Raw text.
          5. Timeout: Duration in seconds before the node fails.

      - Email

        - Shortcut: `kbd -> cmd/ctrl + N + H`
        - Inputs: <br />

          1.  Recipients: Input for "To," "CC," and "BCC" (comma-separated or variable-based).
          2.  Subject Line: Text input with variable support.
          3.  Body Editor: A Rich Text or Markdown editor (often with a "Plain Text" fallback).
          4.  Attachments: File picker or variable reference to previous node outputs.

      - SMS

        - Shortcut: `kbd -> cmd/ctrl + N + J`
        - Inputs: <br />

          1. To Number: Phone number input.
          2. Message: Text area (usually limited to 160 characters per segment).

  3.  Logic:
      Condition

      - If/Else

        - Shortcut: `kbd -> cmd/ctrl + N + K`
        - Inputs: <br />

          1. URL (validation for webhook uri) -> input
             Input field (supporting dynamic variables via {{variable_name}})
          2. Method -> select

          3. Auth Settings (None, Basic Auth, API-KEY AUTH)
          4. Body Type: Toggle for JSON or Raw text.
          5. Timeout: Duration in seconds before the node fails.

      - Delay:
        - Wait for input -> no
        - Type -> Hours / Days

- When a single **Node** is chosen, it should have a config panel to edit it's input config etc

- The automation workflow should have a **RUN PREVIEW** functionality to run the flow for different cases.

- State Rollback / Forward functionality

### Non-Functional Requirements

**_UX_**

- Node's can be drag and dropped from the **PALLETE**
- Multiple Nodes can be selected by mouse based selection
- All Nodes can be selected by `cmd + a`
- The Current Workflow State should be persisted in Local Storage / IndexDB

**Constraints**

- Only one manual trigger node is allowed
- manual trigger and webhook node cannot be connected just after each other

- dragged and exactly dropped on the canvas
- http / webhook should make actual api calls
- email / sms can be dummy async defer / sleep logic with random failure and success
- data accesiblility: node 1 (manual trigger) -> node 2 (http request) -> node 3 (sms) -> node 4(transform)
  This should work such that whenever I receive a response from any node those values should be stored and can be used in next node
  incase of transform node, I can extract specific values and store them in variables. These variables should then be usable in subsequent edges or nodes.

vee-validate with zod
label -> input
desc -> textarea
url -> input [url] -> vee-validate with zod
method -> Select(https://reka-ui.com/docs/components/select) -> reka-ui -> default POST
timeout(seconds) -> number input -> counter [ - ] <value> [ + ]
headers -> key value pair
body -> json (code editor)
